# Getting Started

Pintos를 설치하고 셋팅하는 방법은 [[Pintos]]를 참고하세요.

## Building Pintos

다음 단계로, 첫 번째 프로젝트에 제공된 소스 코드를 빌드해야 합니다. 먼저 'threads' 디렉토리로 이동한 다음, make 명령을 실행하세요. 이렇게 하면 'threads' 디렉토리 아래에 build 디렉토리가 생성되며, Makefile과 몇 개의 하위 디렉토리가 포함되어 커널을 빌드합니다.

빌드 후, build 디렉토리에는 다음과 같은 중요한 파일들이 있습니다:

-   `Makefile`: `pintos/src/Makefile.build`의 사본입니다. 커널을 빌드하는 방법을 설명합니다.

-   `kernel.o`: 전체 커널에 대한 객체 파일입니다. 각 개별 커널 소스 파일에서 컴파일된 객체 파일을 하나로 링크하여 생성됩니다. 디버그 정보가 포함되어 있어 GDB (GDB 참조) 또는 backtrace (Backtraces 참조)를 실행할 수 있습니다.

-   `kernel.bin`: 커널의 메모리 이미지입니다. 즉, Pintos 커널을 실행하기 위해 메모리에 로드되는 정확한 바이트입니다. 이는 디버그 정보가 제거된 `kernel.o`입니다. 이렇게 함으로써 많은 공간을 절약하며, 커널 로더의 설계에 의해 제한된 512 kB 크기 제한에 부딪히지 않도록 합니다.

-   `loader.bin`: 커널 로더의 메모리 이미지입니다. 어셈블리 언어로 작성된 작은 코드 청크로, 디스크에서 커널을 메모리로 읽어들이고 시작합니다. PC BIOS에 의해 고정된 512바이트 크기입니다. build 디렉토리의 하위 디렉토리에는 컴파일러에 의해 생성된 객체 파일(`.o`)과 종속성 파일(`.d`)이 포함되어 있습니다. 종속성 파일은 다른 소스 파일이 변경될 때 재컴파일해야 할 소스 파일을 make에 알려줍니다.

## Running Pintos

Pintos 시뮬레이터를 편리하게 실행하기 위해 pintos라는 프로그램을 제공합니다. 가장 간단한 경우에는 pintos argument...와 같이 pintos를 호출할 수 있습니다. 각 인수는 Pintos 커널에 전달되어 동작하도록 합니다. 이를 시도해보세요. 먼저 새로 생성된 `build` 디렉토리로 이동하세요. 그런 다음 pintos run alarm-multiple 명령을 실행하세요. 이 명령은 인수 run alarm-multiple을 Pintos 커널에 전달합니다. 여기서 run은 커널에 테스트를 실행하라는 지시이고, alarm-multiple은 실행할 테스트입니다. Pintos가 부팅되고 alarm-multiple 테스트 프로그램을 실행하여 몇 가지 화면 텍스트를 출력합니다.

명령 줄에서 로그 직렬 출력을 파일로 리디렉션하여 저장할 수도 있습니다. 예를 들어 `pintos -- run alarm-multiple > logfile`과 같이 사용할 수 있습니다. pintos 프로그램은 qemu나 가상 하드웨어를 구성하기 위해 여러 옵션을 제공합니다. 옵션을 지정하는 경우, 이들은 Pintos 커널에 전달되는 명령들 앞에 있어야 하며, --로 구분되어야 합니다. 이를 통해 전체 명령은 `pintos option... -- argument...`와 같은 형태를 갖게 됩니다. 인수 없이 pintos를 실행하면 사용 가능한 옵션 목록을 볼 수 있습니다. 이 옵션들은 다음을 포함합니다: VM 출력이 어떻게 표시되는지 설정하는 방법 `-v`를 사용하여 VGA 디스플레이를 끄거나, `-s`를 사용하여 stdin에서 시리얼 입력을 억제하고 stdout으로 출력합니다. Pintos 커널에는 run 이외의 명령과 옵션이 더 있습니다. 현재로서는 그다지 흥미로운 것은 아니지만, `pintos -h`와 같이 사용하여 목록을 볼 수 있습니다.
